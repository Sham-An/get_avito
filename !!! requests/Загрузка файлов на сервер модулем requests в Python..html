<!DOCTYPE html><html lang="ru"><head><title>Загрузка файлов на сервер модулем requests в Python.</title><meta charset="utf-8"><meta name="description" content="Постоянно возникают ситуации, когда необходимо отправить один или несколько файлов на сервер в одном запросе. Для этого просто передаем файловые объекты (предварительно открытые функцией open() в бинарном режиме &#39;rb&#39;) в список кортежей следующего вида (form_field_name, file_info)."><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#e9e9e9"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="yandex-verification" content="7fc92983a5ae9810"><link rel="stylesheet" href="/static/css/min.css"><link rel="icon" type="image/svg" href="/favicon.svg"><meta property="og:image" content="/favicon.svg"><link rel="manifest" href="/packages/webapp.manifest"><style>.frame-xl {min-height: calc(100vh - 140px);overflow:auto;}blockquote {padding-left: 1rem;font-style: italic;border-left: #6c757d 3px solid;}footer div {background-color: #e9e9e9;}code {background-color: #eeeeee; color:rgb(17, 17, 17);font-size:87%;}pre{border:1px silver solid;padding:5px;font-size:85%;display:block;width:100%;background-color: #eeeeee;color:#212529}.crimson, h3>em>code,h4>em>code,h5>em>code{line-height:1.2;margin-top:15px;color:crimson;background-color:#e9e9e9;}.big{font-size:120%}.small{font-size:80%}.small-grey{font-size:75%; color: dimgrey;}.table-bordered td{font-size:90%;}.table-bordered .color td{background-color:#E0E0E0; font-size:110%;text-align:center;}div.highlight{margin-bottom: 1rem;}.breadcrumb {padding:2px 7px;margin-bottom:0px;font-size:85%;}.no-gutters>.col-lg-9{margin-top:15px;}.card-header,.card-body{padding:10px 5px 5px 5px;}.overflow-auto.card-body {max-height: 600px;}.card-body>ul{padding:5px 5px 5px 20px; font-size:85%;}ol,ul,.card-body>ul>li{margin-top:5px;}.hr{width:90%;border:rgb(166, 209, 166) 1px solid;}.illuminate,.illuminate code{background-color:rgb(255, 255, 115);transition: 1s ease;}div[id^='yandex_rtb_R-A']{margin-bottom:10px;}#back-to-top {position:fixed;bottom:25px;left:25px;display:none;z-index:1001;}#msg-email,#msg-error {cursor: pointer;}#scroll{transition: 1s linear;}.blinking {background-color: rgb(51, 161, 51);}@media(max-width:768px){#container-msg-error {text-align:left!important;}}@media (max-width: 540px) {body{font-size:1.05rem !important;}pre{font-size:90%;}}#scroll::-webkit-scrollbar-track {-webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);background-color: #f5f5f5;}#scroll::-webkit-scrollbar {width: 3px;background-color: #f5f5f5;}#scroll::-webkit-scrollbar-thumb {background-color: #6c757d;}</style><link rel="dns-prefetch" href="//yastatic.net/"><link rel="dns-prefetch" href="//mc.yandex.ru/"><link rel="dns-prefetch" href="//yandex.ru/"><script>window.yaContextCb=window.yaContextCb||[]</script><script async src="https://yandex.ru/ads/system/context.js"></script></head><body><div class="container-xl"><header><nav class="navbar navbar-expand-lg navbar-light rounded border" style="background-color: #e9e9e9;"><a class="navbar-brand" href="/" title="Python3, наиболее полный справочник и самоучитель.">DOCS Python3</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav mr-auto"><li class="nav-item "><a class="nav-link" href="/tutorial/" title="Справочник по языку Python3 на русском языке">Справочник Python</a></li><li class="nav-item "><a class="nav-link" href="/standart-library/" title="Документация по стандартной библиотеки языка Python3">Стандартная библиотека</a></li><li class="nav-item active"><a class="nav-link" href="/packages/" title="Сторонние популярные пакеты и модули">Другие модули</a></li><li class="nav-item "><a class="nav-link text-danger" href="/search/">Поиск</a></li><li class="nav-item"><span class="nav-link" id="msg-email">Контакты</span></li></ul></div></nav></header></div><div class="container-xl"><div class="row no-gutters"><div class="col-sm-12 col-md-6"><div class="ya-share2" data-services="vkontakte,odnoklassniki,messenger,whatsapp,viber,telegram,pocket,moimir"></div></div><div id="container-msg-error" class="col-sm-12 col-md-6 text-right"><span id="msg-error" class="badge badge-warning">Сообщить об ошибке.</span></div></div></div><div class="frame-xl"><h1 class="text-center mt-3">Загрузка файлов на сервер модулем requests в Python.</h1><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="/packages/" title="Часто используемые в Python3 сторонние модули.">Сторонние пакеты и модули Python3.</a></li><li class="breadcrumb-item"><a href="/packages/modul-requests-python/" title="Простая в использовании HTTP-библиотека для Python.">HTTP-библиотека requests в Python.</a></li><li class="breadcrumb-item active" aria-current="page">Загрузка файлов на сервер модулем requests в Python.</li></ol></nav><div class="row no-gutters"><div class="col-lg-9 pr-lg-1"><div id="important-info"><div id="yandex_rtb_R-A-1582037-2"></div><script>window.yaContextCb.push(()=>{Ya.Context.AdvManager.render({blockId: 'R-A-1582037-2',renderTo: 'yandex_rtb_R-A-1582037-2',})})</script></div><p>Для понимания этого материала необходимо ознакомиться с передачей дополнительных параметров в запросе методом POST, который представлен в <a href="/packages/modul-requests-python/" title="HTTP-библиотека requests в Python.">ознакомительной статье к библиотеке <code>requests</code></a>.</p><ul><li><a href="#send.one">Отправка одного файла на сервер</a>.</li><li><a href="#send.more">Отправка нескольких файлов на сервер</a>.</li></ul><p><a id="send.one"></a></p><h3>Отправка одного файла на сервер.</h3><p>Библиотека <code>requests</code> упрощает <a href="/packages/modul-requests-python/otpravka-neskolkih-fajlov/" title="Загрузка файлов на сервер модулем requests в Python.">загрузку файлов на сервер</a> с многосоставной кодировкой <code>Multipart-encoded</code>. Для этого, в <a href="/tutorial/osnovnye-vstroennye-tipy-python/tip-dannyh-dict-slovar/" title="Тип данных dict, словарь в Python.">словарь</a> с дополнительными параметрами POST запроса необходимо добавить ключ <code>&#39;file&#39;</code>, а в качестве его значения указать <a href="/tutorial/osnovnye-vstroennye-tipy-python/tip-dannyh-file-object-fajly-potoki/" title="Тип файлового объекта file object в Python.">объект открытого файла</a> с помощью функции <a href="/tutorial/vstroennye-funktsii-interpretatora-python/funktsija-open/" title="Функция open() в Python, открывает файл на чтение/запись."><code>open()</code></a> в двоичном режиме <code>&#39;rb&#39;</code>:</p><p><u>Сразу смотрим пример</u>:</p><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="c1"># целевой URL-адрес</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://httpbin.org/post&#39;</span>
<span class="c1"># открываем файл на чтение в </span>
<span class="c1"># бинарном режиме (&#39;rb&#39;)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;report.xls&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="c1"># помещаем объект файла в словарь </span>
<span class="c1"># в качестве значения с ключом &#39;file&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="n">fp</span><span class="p">}</span>
<span class="c1"># передаем созданный словарь аргументу `files`</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span><span class="o">.</span><span class="n">text</span>
<span class="c1"># {</span>
<span class="c1">#   ...</span>
<span class="c1">#   &quot;files&quot;: {</span>
<span class="c1">#     &quot;file&quot;: &quot;&lt;censored...binary...data&gt;&quot;</span>
<span class="c1">#   },</span>
<span class="c1">#   ...</span>
<span class="c1"># }</span>
</pre></div><p>Можно явно указать имя файла, <code>content_type</code> и другие заголовки в значении ключа <code>file</code> создаваемого <a href="/tutorial/osnovnye-vstroennye-tipy-python/tip-dannyh-dict-slovar/" title="Тип данных dict, словарь в Python.">словаря</a>, для передачи файла на сервер:</p><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://httpbin.org/post&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;report.xls&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="c1"># указываем дополнительные заголовки и параметры</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;report.xls&#39;</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="s1">&#39;application/vnd.ms-excel&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;Expires&#39;</span><span class="p">:</span> <span class="s1">&#39;0&#39;</span><span class="p">})}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span><span class="o">.</span><span class="n">text</span>
<span class="c1"># {</span>
<span class="c1">#   ...</span>
<span class="c1">#   &quot;files&quot;: {</span>
<span class="c1">#     &quot;file&quot;: &quot;&lt;censored...binary...data&gt;&quot;</span>
<span class="c1">#   },</span>
<span class="c1">#   ...</span>
<span class="c1"># }</span>
</pre></div><p>При желании, вместо самого файла можно отправить строку, представляющую контент файла:</p><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://httpbin.org/post&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;some, data, to, send</span><span class="se">\n</span><span class="s1">another, row, to, send</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span><span class="o">.</span><span class="n">text</span>
<span class="c1"># {</span>
<span class="c1">#   ...</span>
<span class="c1">#   &quot;files&quot;: {</span>
<span class="c1">#     &quot;file&quot;: &quot;some,data,to,send\\nanother,row,to,send\\n&quot;</span>
<span class="c1">#   },</span>
<span class="c1">#   ...</span>
<span class="c1"># }</span>
</pre></div><p><a id="send.more"></a></p><h3>Отправка нескольких файлов на сервер.</h3><p>Постоянно возникают ситуации, когда необходимо отправить несколько файлов на сервер в одном запросе. Например, предположим, что надо загрузить файлы изображений в HTML-форму с несколькими полями из файлов изображений <code>.png</code>:</p><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;file&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;images&quot;</span> <span class="na">multiple</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="na">required</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">/&gt;</span>
</pre></div><p>Для этого просто передаем <a href="/tutorial/osnovnye-vstroennye-tipy-python/tip-dannyh-file-object-fajly-potoki/" title="Тип файлового объекта file object в Python.">файловые объекты</a> (предварительно открытые <a href="/tutorial/vstroennye-funktsii-interpretatora-python/funktsija-open/" title="Функция open() в Python, открывает файл на чтение/запись.">функцией <code>open()</code></a> в двоичном режиме <code>&#39;rb&#39;</code>) в <a href="/tutorial/osnovnye-vstroennye-tipy-python/tip-dannyh-list-spisok/" title="Тип данных list, список в Python.">список</a> <a href="/tutorial/osnovnye-vstroennye-tipy-python/tip-dannyh-tuple-kortezh/" title="Тип данных tuple, кортеж в Python.">кортежей</a> следующего вида <code>(form_field_name, file_info)</code>:</p><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="c1"># целевой адрес с формой отправки</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://httpbin.org/post&#39;</span>
<span class="c1"># добавляем файловые объекты в список кортежей</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">multiple_files</span> <span class="o">=</span> <span class="p">[</span>
<span class="o">...</span>     <span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;foo.png&#39;</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.png&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">),</span> <span class="s1">&#39;image/png&#39;</span><span class="p">)),</span>
<span class="o">...</span>     <span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;bar.png&#39;</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;bar.png&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">),</span> <span class="s1">&#39;image/png&#39;</span><span class="p">))]</span>
<span class="c1"># делаем запрос</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">multiple_files</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span><span class="o">.</span><span class="n">text</span>
<span class="p">{</span>
  <span class="o">...</span>
  <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;images&#39;</span><span class="p">:</span> <span class="s1">&#39;data:image/png;base64,iVBORw ....&#39;</span><span class="p">}</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;multipart/form-data; boundary=31316...&#39;</span><span class="p">,</span>
  <span class="o">...</span>
<span class="p">}</span>
</pre></div><p><strong>Предупреждение</strong>. Настоятельно рекомендуется <a href="/tutorial/vstroennye-funktsii-interpretatora-python/funktsija-open/" title="Функция open() в Python, открывает файл на чтение/запись.">открывать файлы</a> в двоичном режиме <code>&#39;rb&#39;</code>. Это связано с тем, что запросы могут попытаться предоставить заголовок <code>Content-Length</code>, и если это произойдет, то это значение будет установлено на количество байтов в файле. При открытии файла в текстовом режиме могут возникнуть ошибки.</p><div id="yandex_rtb_R-A-1582037-3"></div><script>window.yaContextCb.push(()=>{Ya.Context.AdvManager.render({blockId: 'R-A-1582037-3',renderTo: 'yandex_rtb_R-A-1582037-3',})})</script></div><div class="col-lg-3"><aside class="card shadow-sm border-secondary mb-2"><div class="card-header text-center bg-secondary text-white"><h4 class="h4">Содержание раздела:</h4></div><div id="scroll" class="overflow-auto card-body"><ul><li><a  href="/packages/modul-requests-python/brief-description/" title="Краткий обзор раздела: HTTP-библиотека requests в Python.">КРАТКИЙ ОБЗОР МАТЕРИАЛА.</a></li><li><a  href="/packages/modul-requests-python/get-post-zaprosy-modulem-requests/" title="Методы requests.get() и requests.post() модуля requests.">GET и POST запросы c модулем requests.</a></li><li><a  href="/packages/modul-requests-python/poluchenie-peredacha-zagolovkov-servera/" title="Получение/отправка заголовков сервера модулем requests в Python.">Получение/отправка заголовков сервера модулем requests.</a></li><li><a  href="/packages/modul-requests-python/izvlechenie-ustanovka-cookies/" title="Response.cookies и requests.cookies модуля requests.">Извлечение и установка cookies с модулем requests.</a></li><li><a  href="/packages/modul-requests-python/sessii-seansy-session/" title="Параметры сессии/сеанса при работе с сайтом.">Сессии/сеансы Session() модуля requests.</a></li><li><a  href="/packages/modul-requests-python/obekt-otvet-servera-response/" title="Описание, атрибуты и методы объекта requests.Response.">Объект ответа сервера Response модуля requests.</a></li><li><a  href="/packages/modul-requests-python/poluchenie-otpravka-dannyh-vide-json/" title="Response.json и аргумент json метода equests.post() модуля requests.">Получение и отправка данных в виде JSON с модулем requests.</a></li><li><a  href="/packages/modul-requests-python/ustanovka-timeout-modulja-requests/" title="Установка максимально время ожидания ответа сервера.">Установка timeout для модуля requests.</a></li><li><a  href="/packages/modul-requests-python/obekt-preparedrequest/" title="Подготовленный объект запроса для отправки на сервер.">Объект PreparedRequest модуля requests.</a></li><li><a class=text-muted href="/packages/modul-requests-python/otpravka-neskolkih-fajlov/" title="Загрузка файлов на сервер модулем requests в Python.">Загрузка файлов на сервер модулем requests.</a></li><li><a  href="/packages/modul-requests-python/zagruzka-bolshih-dannyh/" title="Потоковая отправка/загрузка контента модулем requests.">Загрузка больших данных модулем requests.</a></li><li><a  href="/packages/modul-requests-python/http-proksi-socks-proksi/" title="Запросы к сайтам через HTTP-прокси или SOCKS-прокси.">HTTP-прокси или SOCKS-прокси с модулем requests.</a></li><li><a  href="/packages/modul-requests-python/ispolzovanie-hukov/" title="Функции обратного вызова в запросах к серверу в Python.">Использование хуков модуля requests.</a></li><li><a  href="/packages/modul-requests-python/autentifikatsija-modulem-requests/" title="Пользовательская аутентификация на сайтах в Python.">Аутентификация с модулем requests.</a></li><li><a  href="/packages/modul-requests-python/ssl-modul-requests/" title="Проверка SSL-сертификатов и SSL на стороне клиента.">SSL и модуль requests.</a></li></ul></div></aside><div id="right-row"><div id="yandex_rtb_R-A-1582037-1"></div><script>window.yaContextCb.push(()=>{Ya.Context.AdvManager.render({renderTo: 'yandex_rtb_R-A-1582037-1',blockId: 'R-A-1582037-1'})})</script></div></div></div><div id="dialogModal"></div></div><div class="container-xl"><footer><div id="back-to-top" class="btn btn-info">Вверх</div><div class="card rounded"><div class="card-body"><p class="card-text"><a href="/" title="Справочная документация по языку Python3.">DOCS-Python.ru</a>™, 2022 г. <span class="small text-secondary">(<span class="text-danger">Внимание!</span> При копировании материала ссылка на источник обязательна)</span></p></div></div></footer></div><script src="/static/js/min.js"></script><script>function getStyle(sel) {var sayings = new Map();sayings.set("display", "none").set("visibility", "hidden").set("position", "absolute");for (var [key, value] of sayings) {if ($(sel).css(key) == value) return true;if ($(sel).children().css(key) == value) return true;}}function sendError(msg, comment, h1) {$.ajax({type: "POST",url: "/send/error/",data: {'msg':msg, 'comment':comment, 'h1':h1},success: function(data) {var a = data.split('|');var resp = a.pop();if (resp.indexOf('ok') == 0) {$.cookie('msgErr', '0');$('#errSend').remove();a.forEach(function(item) {b = item.split('#', 2);$('#'+b[0]).html(b[1]);});} else if (resp.indexOf('fatal') == 0) {$('#errSend').remove();a.forEach(function(item) {b = item.split('#', 2);$('#'+b[0]).html(b[1]);});} else {$('#errSend').text('Отправить').attr('disabled', false);$('#errTitle').css("color", "red").html(a.join('<br>'));}}});}function sendEmail(user, email, subject, msg) {$.ajax({type: "POST",url: "/send/email/",data: {'user':user, 'email':email, 'subject':subject, 'msg':msg},success: function(data){var a = data.split('|');var resp = a.pop();if (resp.indexOf('ok') == 0) {$('#emailSend').remove();a.forEach(function(item) {b = item.split('#', 2);$('#'+b[0]).html(b[1]);});} else if (resp.indexOf('fatal') == 0) {$('#emailSend').remove();a.forEach(function(item) {b = item.split('#', 2);$('#'+b[0]).html(b[1]);});} else {$('#emailSend').text('Отправить').attr('disabled', false);$('#emailTitle').css("color", "brown").text('Исправте ошибки в письме.');a.forEach(function(item) {b = item.split('#');$('#'+b[0]).css("background-color", "rgb(252, 228, 228)");$('#_'+b[0]).text(b[1])});}}});}$(document).ready(function(){var h1 = $('h1').text();var doc_width = $(document).width();$(window).on('load', function () {$("#scroll").addClass("blinking");setTimeout(function(){$("#scroll").removeClass("blinking");}, 300);setTimeout(function(){var ublock = 'false';var v = getStyle('div[id*="1582037"]');if(typeof yandex_context_callbacks=='undefined'||v===true) {ublock = 'true';$.get("/static/form/donate.html", function(data) {if (doc_width > 972) {$('#right-row').html(data);} else {$('#important-info').html(data);$('#right-row').remove();}setTimeout(function(){if (getStyle('#donate')===true){ublock = 'fack';$('pre,code').css('color','#eefeee').parent().removeClass();$('nav,aside,#msg-error').remove();}}, 200);});}}, 1200);$(function() {var box = $('#right-row'); var top = box.offset().top;var width = box.width();$(document).on('scroll', function(){var windowpos = $(window).scrollTop();if(windowpos < top) {box.css('position', 'static');} else {box.css('position', 'fixed');box.css('width', width).css('top', 0);}});});});$(document).scroll(function() {if ($(this).scrollTop() > 300) {$('#back-to-top').fadeIn();} else {$('#back-to-top').fadeOut();}});$('#back-to-top').click(function () {$('body,html').animate({scrollTop: 0}, 200);return false;});$("a[href^='#']").click(function(){$('.illuminate').removeClass('illuminate');var href = $(this).attr('href').replace('#', '');var el_a = $("a[id='" + href + "']");$("html, body").animate({scrollTop: el_a.offset().top + "px"}, 200);el_a.parent().next().addClass("illuminate");return false;});$('#msg-error').click(function() {$('.modal-backdrop').removeClass('show').hide();$("#dialogModal").html('');$("#dialogModal").load("/static/form/modalError.html", function(response,status,xhr) {if(status == "success") {$("#dialogModal").html(response);$('#modalError').modal('show');$('#errPageName').text(h1);}});});$('#dialogModal').on('click', '#errSend', function() {$('#errSend').text('Идет отправка').attr('disabled', true);$('#emailTitle').css("color", "black").text('Ждите. Идет отправка...');var msg = $('#errText').val();var comment = $('#errCommentText').val();sendError(msg, comment, h1);});$('#msg-email').click(function() {$('.modal-backdrop').removeClass('show').hide();$("#dialogModal").html('');$("#dialogModal").load("/static/form/modalEmail.html", function(response,status) {if(status == "success") {$("#dialogModal").html(response);$('#modalEmail').modal('show');}});});$('#dialogModal').on('click', '#emailSend', function() {$('#emailSend').text('Идет отправка').attr('disabled', true);$('#emailTitle').css("color", "black").text('Ждите. Идет отправка...');var user = $('#user').val();var email = $('#email').val();var subject = $('#subject').val();var msg = $('#msg').val();sendEmail(user, email, subject, msg);});var right_menu = $("#scroll>ul>li:first").text();if (doc_width < 972 && right_menu) {var razdel = $(".breadcrumb-item:eq(1)").text().replace('.', ':');$('#navbarSupportedContent>ul>li:last').text(razdel);$("#scroll>ul").insertAfter('#navbarSupportedContent>ul>li:last');$('aside').remove();}});</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(67309303, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/67309303" style="position:absolute; left:-9999px;" alt="" /></div></noscript><script src="//yastatic.net/share2/share.js"></script></body></html>